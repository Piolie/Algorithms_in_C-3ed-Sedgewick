/* ---------------------------------------------------------------------
                              EXERCISE 5.1
------------------------------------------------------------------------
Write a recursive program to compute lg(N!).
--------------------------------------------------------------------- */

/* ---------------------------------------------------------------------
lg(N!) = lg(N * (N - 1) * ... * 2 * 1)
       = lg(N) + lg(N - 1) + ... + lg(2) + lg(1)
       = lg(N) + lg(N - 1) + ... + 1     + 0
--------------------------------------------------------------------- */

#include <math.h>
#include <stdio.h>
#include <stdlib.h>

float lg_fact(int N) {
  if (N == 0)
    return 0;
  return log2(N) + lg_fact(N - 1);
}

int main(int argc, char *argv[]) {
  (void)argc;
  int N = atoi(argv[1]);
  for (int i = 0; i < N; i++)
    printf("lg(%d!) = %f\n", i, lg_fact(i));
}

/* ---------------------------------------------------------------------
                                 OUTPUT
------------------------------------------------------------------------
./E05.01.exe 10
lg(0!) = 0.000000
lg(1!) = 0.000000
lg(2!) = 1.000000
lg(3!) = 2.584963
lg(4!) = 4.584963
lg(5!) = 6.906891
lg(6!) = 9.491854
lg(7!) = 12.299209
lg(8!) = 15.299209
lg(9!) = 18.469133
--------------------------------------------------------------------- */
